!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("lodash.isequal"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng2-carouselamos",["exports","@angular/core","lodash.isequal","@angular/common"],e):e((t=t||self)["ng2-carouselamos"]={},t.ng.core,t.isEqual,t.ng.common)}(this,(function(t,e,n,o){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var s=function(){function t(){this.items=[],this.width=500,this.onSelectedItem=new e.EventEmitter,this.childIndex=0,this.amount=0,this.startPress=0,this.lastX=0}return t.prototype.onMousedown=function(t){1===t.which&&(this.startPress=t.clientX,this.lastX=this.amount)},t.prototype.onTouchdown=function(t){navigator.userAgent.indexOf("Android")>=0&&t.preventDefault(),this.startPress=t.targetTouches[0].clientX,this.lastX=this.amount},t.prototype.onMousemove=function(t,e){if(1===t.which){var n=this.lastX-(this.startPress-t.clientX);if(n>0||n<-(e-this.width))return;this.amount=n}},t.prototype.onTouchmove=function(t,e){navigator.userAgent.indexOf("Android")>=0&&t.preventDefault();var n=this.lastX-(this.startPress-t.targetTouches[0].clientX);n>0||n<-(e-this.width)||(this.amount=n)},t.prototype.onMouseup=function(t,e){1===t.which&&(this.startPress=0,this.snap(e))},t.prototype.onTouchup=function(t,e){navigator.userAgent.indexOf("Android")>=0&&t.preventDefault(),this.startPress=0,this.snap(e)},t.prototype.snap=function(t){for(var e=0,n=0,o=0;o<this.items.length;o++){var s=t.children[o],i=s.currentStyle||window.getComputedStyle(s);if(e+=s.offsetWidth+(parseFloat(i.marginLeft)+parseFloat(i.marginRight)),this.amount<=n&&this.amount>=-e)return this.amount=-n,this.childIndex=o,void this.onSelectedItem.emit({item:this.items[this.childIndex],index:this.childIndex,first:!1});n=e}return e},t.prototype.scroll=function(t,e){this.childIndex+=t?1:-1,this.onSelectedItem.emit({item:this.items[this.childIndex],index:this.childIndex,first:!1}),this.amount=-this.calcScroll(e)},t.prototype.calcScroll=function(t){for(var e=0,n=this.childIndex-1;n>=0;n--){var o=t.children[n],s=o.currentStyle||window.getComputedStyle(o);e+=o.offsetWidth+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return e},t.prototype.ngOnChanges=function(t){t.items&&!n(t.items.previousValue,t.items.currentValue)&&(t.items.firstChange&&this.onSelectedItem.emit({item:this.items[this.childIndex],index:this.childIndex,first:!0}),this.amount=0)},t.decorators=[{type:e.Component,args:[{selector:"[ng2-carouselamos]",template:'<div class="ng2-carouselamos-container">\n  <div\n    class="ng2-carouselamos-wrapper"\n    [style.width]="width + \'px\'"\n    (mousedown)="onMousedown($event)"\n    (touchstart)="onTouchdown($event)"\n    (mousemove)="onMousemove($event, list.scrollWidth)"\n    (touchmove)="onTouchmove($event, list.scrollWidth)"\n    (mouseup)="onMouseup($event, list)"\n    (mouseleave)="onMouseup($event, list)"\n    (touchend)="onTouchup($event, list)"\n  >\n    <div\n      class="ng2-carouselamos"\n      [attr.startPress]="startPress"\n      [style.transition]="startPress > 0 ? \'none\' : \'-webkit-transform 1s\'"\n      [style.webkitTransition]="\n        startPress > 0 ? \'none\' : \'-webkit-transform 1s\'\n      "\n      [style.transform]="\'translateX(\' + amount + \'px)\'"\n      [style.webkitTransform]="\'translateX(\' + amount + \'px)\'"\n      #list\n    >\n      <ng-template\n        *ngFor="let item of items; let i = index"\n        [ngTemplateOutlet]="$item"\n        [ngTemplateOutletContext]="{\n          $implicit: item,\n          index: i,\n          selectedIndex: childIndex\n        }"\n      ></ng-template>\n    </div>\n  </div>\n  <div class="controls" *ngIf="$prev || $next">\n    <button\n      type="button"\n      *ngIf="$prev"\n      (click)="scroll(false, list)"\n      [disabled]="amount >= 0"\n    >\n      <ng-template [ngTemplateOutlet]="$prev"></ng-template>\n    </button>\n    <button\n      type="button"\n      *ngIf="$next"\n      (click)="scroll(true, list)"\n      [disabled]="amount <= -(list.scrollWidth - width)"\n    >\n      <ng-template [ngTemplateOutlet]="$next"></ng-template>\n    </button>\n  </div>\n</div>\n',styles:[".ng2-carouselamos-container{position:relative;display:flex;justify-content:center}.ng2-carouselamos-wrapper{overflow:hidden}.ng2-carouselamos{display:flex;transition:transform 1s}.controls{pointer-events:none;position:absolute;display:flex;width:100%;justify-content:space-between;top:50%;left:0;transform:translateY(-50%)}.controls button{pointer-events:all;background:0 0;border:0}"]}]}],t.propDecorators={items:[{type:e.Input}],width:[{type:e.Input}],$prev:[{type:e.Input}],$next:[{type:e.Input}],$item:[{type:e.Input}],onSelectedItem:[{type:e.Output}]},t}();var i=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[s],imports:[o.CommonModule],exports:[s]}]}],t}();t.Ng2CarouselamosComponent=s,t.Ng2CarouselamosModule=i,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ng2-carouselamos.umd.min.js.map